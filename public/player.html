<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whiskey Challenge - Player</title>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-analytics.js"></script>
    <link rel="stylesheet" href="styles.css"> <!-- Optional, add your styles here -->
</head>
<body>
    <h1>Whiskey Challenge</h1>
    <h2>Quarter: <span id="quarter-name"></span></h2>

    <!-- Game Area -->
    <div id="game-container">
        <label for="mashbill">Select Mashbill Category:</label>
        <select id="mashbill">
            <option value="bourbon">Bourbon</option>
            <option value="rye">Rye</option>
            <option value="wheat">Wheat</option>
            <option value="single-malt">Single Malt</option>
            <option value="blend">Blend</option>
            <option value="specialty">Specialty</option>
        </select>

        <label for="proof">Guess the Proof:</label>
        <input type="range" id="proof" min="80" max="130" step="1" value="100">
        <span id="proof-value">100</span>

        <label for="age">Guess the Age:</label>
        <input type="range" id="age" min="1" max="10" step="1" value="5">
        <span id="age-value">5</span>

        <button id="submit-guess">Submit Guess</button>
    </div>

    <!-- Firebase Initialization -->
    <script src="firebaseConfig.js"></script> <!-- Import your Firebase configuration -->
    <script>
        const gameContainer = document.getElementById('game-container');
        const quarterName = document.getElementById('quarter-name');
        const proofInput = document.getElementById('proof');
        const proofValue = document.getElementById('proof-value');
        const ageInput = document.getElementById('age');
        const ageValue = document.getElementById('age-value');
        const mashbillInput = document.getElementById('mashbill');
        const submitButton = document.getElementById('submit-guess');

        // Change slider values dynamically
        proofInput.addEventListener('input', () => proofValue.textContent = proofInput.value);
        ageInput.addEventListener('input', () => ageValue.textContent = ageInput.value);

        // Submit Guess
        submitButton.addEventListener('click', async () => {
            const guess = {
                mashbill: mashbillInput.value,
                proof: proofInput.value,
                age: ageInput.value,
                timestamp: new Date()
            };

            // Store guess in Firestore
            const db = firebase.firestore();
            await db.collection('quarters').doc('current-quarter').collection('guesses').add(guess);
            alert('Guess submitted successfully!');
        });

        // Fetch the current quarter info from Firestore
        const db = firebase.firestore();
        db.collection('quarters').doc('current-quarter').get().then((doc) => {
            if (doc.exists) {
                quarterName.textContent = doc.data().name;
            } else {
                quarterName.textContent = 'Quarter not found';
            }
        }).catch((error) => {
            console.error("Error fetching quarter info:", error);
        });
    </script>
</body>
</html> 
