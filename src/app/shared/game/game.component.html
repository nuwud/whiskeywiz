// game.component.html
<div class="game-container" [style.backgroundImage]="'url(assets/images/blackbackground.png)'">
  <div class="logo-header">
    <img src="assets/images/BlindBarrels.png" alt="Blind Barrels Logo" class="logo">
  </div>

  <div class="game-content" *ngIf="!gameCompleted">
    <div class="navigation-controls">
      <button class="nav-button" (click)="changeSample(-1)" [disabled]="currentSample === 1">
        <img src="assets/images/Previous_Sample.png" alt="Previous Sample">
      </button>

      <h2 class="sample-title font-hermona">
        Sample {{ getSampleLetter(currentSample) }}
      </h2>

      <button class="nav-button" (click)="changeSample(1)" [disabled]="currentSample === 4">
        <img src="assets/images/Next_Sample.png" alt="Next Sample">
      </button>
    </div>

    <div class="guess-form">
      <div class="form-group">
        <label>Age Statement:</label>
        <div class="slider-container">
          <input type="range" 
                 class="custom-slider"
                 min="1" 
                 max="30" 
                 [(ngModel)]="guesses['sample' + currentSample].age"
                 (ngModelChange)="updateGuess(currentSample, 'age', $event)">
          <div class="slider-value font-hermona">
            {{ guesses['sample' + currentSample].age }} Years
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Proof:</label>
        <div class="slider-container">
          <input type="range" 
                 class="custom-slider"
                 min="80" 
                 max="160" 
                 [(ngModel)]="guesses['sample' + currentSample].proof"
                 (ngModelChange)="updateGuess(currentSample, 'proof', $event)">
          <div class="slider-value font-hermona">
            {{ guesses['sample' + currentSample].proof }} Proof
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Mashbill:</label>
        <div class="mashbill-options">
          <label class="mashbill-option" *ngFor="let type of mashbillTypes">
            <input type="radio" 
                   [value]="type"
                   [(ngModel)]="guesses['sample' + currentSample].mashbill"
                   (ngModelChange)="updateGuess(currentSample, 'mashbill', $event)"
                   name="mashbill{{currentSample}}">
            <span class="radio-custom"></span>
            <span class="label-text font-hermona">{{ type }}</span>
          </label>
        </div>
      </div>
    </div>

    <div class="sample-navigation">
      <div class="sample-indicators">
        <div *ngFor="let num of [1,2,3,4]" 
             class="sample-indicator"
             [class.active]="currentSample === num"
             (click)="currentSample = num">
          <img [src]="'assets/images/Sample_' + getSampleLetter(num) + '.png'" 
               [alt]="'Sample ' + getSampleLetter(num)">
        </div>
      </div>
    </div>

    <button class="submit-button" (click)="submitGuesses()">
      <img src="assets/images/Submit_All_Guesses.png" alt="Submit All Guesses">
    </button>
  </div>

  <app-results *ngIf="gameCompleted"
  [quarterData]="quarterData"
  [guesses]="guesses"
  [scores]="scores"
  [totalScore]="totalScore"
  (playAgain)="playAgain()"
  (shareResults)="share()"
  (submitScore)="submitScore()"
></app-results>
</div>