<div class="game-container" *ngIf="quarterData">
  <h2 class="game-title">Whiskey Challenge - {{quarterData.name}}</h2>

  <!-- Game In Progress View -->
  <div class="game-content" *ngIf="!gameCompleted">
    <div class="samples-grid">
      <div class="sample-card" *ngFor="let num of [1, 2, 3, 4]">
        <h3>Sample {{num}}</h3>
        <div class="guess-form">
          <div class="form-group">
            <label>Mashbill</label>
            <select [(ngModel)]="guesses['sample' + num].mashbill">
              <option value="">Select type...</option>
              <option value="Bourbon">Bourbon</option>
              <option value="Rye">Rye</option>
              <option value="Wheat">Wheat</option>
              <option value="Single Malt">Single Malt</option>
            </select>
          </div>

          <div class="form-group">
            <label>Age (Years)</label>
            <input type="number" 
                   [(ngModel)]="guesses['sample' + num].age" 
                   min="0" 
                   max="50">
          </div>

          <div class="form-group">
            <label>Proof</label>
            <input type="number" 
                   [(ngModel)]="guesses['sample' + num].proof"
                   min="80"
                   max="160"
                   step="0.1">
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button class="standard-button" 
              (click)="submitGuesses()"
              [disabled]="!areAllGuessesFilled()">
        Submit Guesses
      </button>
    </div>
  </div>

  <!-- Results View -->
  <div class="results-container" *ngIf="gameCompleted">
    <div class="results-header">
      <h3>Game Completed!</h3>
      <div class="total-score">Total Score: {{totalScore}}</div>
    </div>

    <div class="results-grid">
      <div class="result-card" *ngFor="let num of [1, 2, 3, 4]">
        <h4>Sample {{num}}</h4>
        <div class="score-display">Score: {{scores['sample' + num]}}</div>
        
        <div class="comparison-grid">
          <div class="guess-column">
            <h5>Your Guess</h5>
            <p>Age: {{guesses['sample' + num].age}} years</p>
            <p>Proof: {{guesses['sample' + num].proof}}</p>
            <p>Type: {{guesses['sample' + num].mashbill}}</p>
          </div>
          
          <div class="actual-column">
            <h5>Actual</h5>
            <p>Age: {{quarterData.samples['sample' + num].age}} years</p>
            <p>Proof: {{quarterData.samples['sample' + num].proof}}</p>
            <p>Type: {{quarterData.samples['sample' + num].mashbill}}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="results-actions">
      <button class="standard-button" (click)="submitScore()" *ngIf="!scoreSubmitted">
        Submit Score
      </button>
      <button class="standard-button" (click)="shareResults()">
        Share Results
      </button>
      <button class="standard-button secondary" (click)="playAgain()">
        Play Again
      </button>
    </div>
  </div>
</div>