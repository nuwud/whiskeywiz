<div class="game-container">
  <!-- Header Section -->
  <div class="header-container">
    <div class="logo-header">
      <img [src]="getImagePath('BlindBarrels.png')" alt="Blind Barrels Logo" class="logo">
    </div>
    <button *ngIf="isLoggedIn" class="logout-button" (click)="logout()">
      <span class="font-hermona-extras glyph">I</span>
      <span class="font-hermona-lg">Logout</span>
    </button>
  </div>

  <!-- Game Content -->
  <div class="game-content" *ngIf="!gameCompleted">

    <!-- Navigation Controls with Panel Background -->
    <div class="navigation-controls">
      <div class="nav-button-container">
        <img [src]="getButtonImage('Previous_Sample_Button', currentSample === 1 ? '' : '_Hover')"
             (click)="changeSample(-1)"
             [class.disabled]="currentSample === 1"
             alt="Previous Sample">
      </div>

      <h2 class="sample-title font-hermona-4xl">
        Sample {{ getSampleLetter(currentSample) }}
      </h2>

      <div class="nav-button-container">
        <img *ngIf="!showSubmitAllButton()" 
              [src]="getButtonImage('Next_Sample_Button')" 
              (click)="changeSample(1)"
              class="nav-button">
        <img *ngIf="showSubmitAllButton()" 
              src="assets/images/Submit_All_Guesses_Button.png" 
              (click)="submitGuesses()"
              class="submit-button">
      </div>
    </div>

    <!-- Main Form Area -->
    <div class="guess-form">
      <div class="panel-background">
        <img src="assets/images/Larger_Panel.png" class="panel-image" alt="background panel">
      </div>

      <!-- Form Content -->
      <div class="form-content">

        <!-- Age Statement -->
        <div class="form-group">
          <div class="label-group">
            <h3 class="font-hermona-2xl">Age Statement:
              <div class="value font-hermona-2xl">
                {{ getSampleData(currentSample)?.age || 5 }} Years
              </div></h3>
          </div>
          <div class="slider-container">
            <img src="assets/images/Track.png" class="slider-track" alt="track">
            <input type="range"
                   class="custom-slider"
                   min="1"
                   max="10"
                   [(ngModel)]="guesses['sample' + currentSample].age">
          </div>
        </div>

        <!-- Proof -->
        <div class="form-group">
          <div class="label-group">
            <h3 class="font-hermona-2xl">Proof:
              <div class="value font-hermona-2xl">
                {{ getSampleData(currentSample)?.proof || 100 }} Proof
              </div></h3>
          </div>
          <div class="slider-container">
            <img src="assets/images/Track.png" class="slider-track" alt="track">
            <input type="range"
                   class="custom-slider"
                   min="80"
                   max="130"
                   [(ngModel)]="guesses['sample' + currentSample].proof">
          </div>
        </div>

        <!-- Mashbill -->
        <div class="form-group">
          <h3 class="font-hermona-2xl">Mashbill:</h3>
          <div class="mashbill-options">
            <div *ngFor="let type of mashbillTypes" class="mashbill-option">
              <input type="radio" 
                [id]="'mashbill-' + type"
                [value]="type" 
                [(ngModel)]="guesses['sample' + currentSample].mashbill"
                name="mashbill{{currentSample}}">
              <label [for]="'mashbill-' + type" class="helvetica-text">
                <img src="assets/images/Ellipse_W.png" class="radio-unchecked" alt="unchecked">
                <img src="assets/images/Ellipse_B.png" class="radio-checked" alt="checked">
                <span class="label-text">{{ type }}</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Star-Rating -->
        <div class="form-group">
          <h3 class="font-hermona-2xl">Rating:</h3>
          <div class="star-rating-container">
            <div *ngFor="let star of [1,2,3,4,5,6,7,8,9,10]"
                 class="star-container"
                 (click)="updateStarRating(currentSample, star)"
                 (mouseenter)="buttonHover('star'+star, true)"
                 (mouseleave)="buttonHover('star'+star, false)">
              <div class="star-svg" [innerHTML]="getSafeStarHtml(star <= (starRatings['sample'+currentSample] || 0))"
                   [class.active]="star <= (starRatings['sample'+currentSample] || 0)">
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Sample Navigation -->
    <div class="sample-navigation">
      <div class="samples-row">
        <div *ngFor="let num of [1,2,3,4]" 
             class="sample-indicator"
             (click)="currentSample = num">
          <img [src]="'assets/images/Sample_' + getSampleLetter(num) + 
                      (currentSample === num ? '_hover' : '') + '.png'"
               [class.active]="currentSample === num"
               [alt]="'Sample ' + getSampleLetter(num)">
        </div>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="submit-button-container">
      <img src="assets/images/Submit_All_Guesses_Button.png" 
           class="submit-button"
           (click)="submitGuesses()"
           (mouseenter)="buttonHover('submit', true)"
           (mouseleave)="buttonHover('submit', false)"
           alt="Submit All Guesses">
    </div>
  </div>
 
  <!-- Results Component -->
  <app-results 
    *ngIf="gameCompleted"
    [quarterData]="quarterData"
    [guesses]="guesses"
    [scores]="scores"
    [totalScore]="totalScore"
    (playAgain)="playAgain()"
    (shareResults)="share()"
    (submitScore)="submitScore()">
  </app-results>
</div>