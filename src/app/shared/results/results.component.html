<div class="results-container">
  <!-- Score Overview -->
  <div class="score-overview">
    <h2 class="text-4xl mb-6">Your Score: {{totalScore}} points</h2>
    <h3 class="text-2xl mb-4">{{getScoreMessage()}}</h3>
    
    <!-- Video Section -->
    <div *ngIf="quarter?.videoUrl" class="video-section mb-8">
      <h3 class="text-2xl mb-4">Reveal Video</h3>
      <div class="video-container">
        <iframe [src]="quarter.videoUrl | safeUrl" 
               frameborder="0" 
               allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
               allowfullscreen>
        </iframe>
      </div>
    </div>
  </div>

  <!-- Sample Results -->
  <div class="samples-grid grid grid-cols-1 md:grid-cols-2 gap-6">
    <div *ngFor="let result of sampleResults" 
         class="sample-card p-6 rounded-lg shadow-md">
      <h3 class="text-2xl mb-4">Sample {{result.letter}}</h3>

      <!-- Guesses -->
      <div class="guesses mb-4">
        <h4 class="text-xl mb-2">Your Guesses</h4>
        <ul>
          <li>Age: {{result.guess.age}} years</li>
          <li>Proof: {{result.guess.proof}}</li>
          <li>Mashbill: {{result.guess.mashbill}}</li>
        </ul>
      </div>

      <!-- Actual Values (if revealed) -->
      <div *ngIf="result.revealed" class="actual-values mb-4">
        <h4 class="text-xl mb-2">Actual Values</h4>
        <ul>
          <li>Age: {{result.sample.age}} years</li>
          <li>Proof: {{result.sample.proof}}</li>
          <li>Mashbill: {{result.sample.mashbill}}</li>
        </ul>

        <!-- Product Info -->
        <div *ngIf="result.sample.shopifyProduct" class="product-info mt-4">
          <h4 class="text-xl mb-2">Available for Purchase</h4>
          <div class="product-card p-4 rounded bg-gray-50">
            <h5 class="font-bold">{{result.sample.shopifyProduct.title}}</h5>
            <p class="price">{{result.sample.shopifyProduct.price}}</p>
            <button *ngIf="result.sample.shopifyProduct.available"
                    (click)="addToCart(result.sample.shopifyProduct)"
                    [disabled]="isAddingToCart"
                    class="buy-button mt-2 px-4 py-2 bg-gold text-white rounded">
              {{isAddingToCart ? 'Adding...' : 'Add to Cart'}}
            </button>
            <p *ngIf="!result.sample.shopifyProduct.available" 
               class="out-of-stock mt-2 text-red-600">
              Currently Out of Stock
            </p>
          </div>
        </div>
      </div>

      <!-- Score -->
      <div class="score-section mt-4">
        <p class="text-xl">Score: {{result.score}} points</p>
      </div>
    </div>
  </div>

  <!-- Share Section -->
  <div class="share-section mt-8 flex gap-4 justify-center">
    <button (click)="shareResults('clipboard')" 
            class="share-button px-6 py-3 bg-gold text-white rounded">
      Copy to Clipboard
    </button>
    <button *ngIf="canShare" 
            (click)="shareResults('native')"
            class="share-button px-6 py-3 bg-gold text-white rounded">
      Share
    </button>
    <button *ngIf="canShareTwitter"
            (click)="shareResults('twitter')"
            class="share-button px-6 py-3 bg-twitter text-white rounded">
      Share on Twitter
    </button>
  </div>

  <div *ngIf="error" class="error-message">
    {{error}}
  </div>
</div>