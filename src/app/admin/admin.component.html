<!-- admin.component.html -->
<div class="admin-container">

  <div class="instructions-panel" *ngIf="!selectedQuarter">
    <h3>Integration Instructions</h3>
    
    <h4>1. Admin Panel Integration</h4>
    <p>Add this code to your Shopify page where you want the admin panel:</p>
    <pre><code>
      &lt;whiskey-wiz-admin&gt;&lt;/whiskey-wiz-admin&gt;
    </code></pre>

    <h4>2. Quarter Game Integration</h4>
    <p>Add one of these tags where you want to embed specific quarter games:</p>
    <div class="code-samples">
      <details>
        <summary>2022 Quarters</summary>
        <pre><code>
Q1: &lt;whiskey-wiz-0122&gt;&lt;/whiskey-wiz-0122&gt;
Q2: &lt;whiskey-wiz-0222&gt;&lt;/whiskey-wiz-0222&gt;
Q3: &lt;whiskey-wiz-0322&gt;&lt;/whiskey-wiz-0322&gt;
Q4: &lt;whiskey-wiz-0422&gt;&lt;/whiskey-wiz-0422&gt;
        </code></pre>
      </details>
      <details>
        <summary>2023 Quarters</summary>
        <pre><code>
Q1: &lt;whiskey-wiz-0123&gt;&lt;/whiskey-wiz-0123&gt;
Q2: &lt;whiskey-wiz-0223&gt;&lt;/whiskey-wiz-0223&gt;
Q3: &lt;whiskey-wiz-0323&gt;&lt;/whiskey-wiz-0323&gt;
Q4: &lt;whiskey-wiz-0423&gt;&lt;/whiskey-wiz-0423&gt;
        </code></pre>
      </details>
      <details>
        <summary>2024 Quarters</summary>
        <pre><code>
Q1: &lt;whiskey-wiz-0124&gt;&lt;/whiskey-wiz-0124&gt;
Q2: &lt;whiskey-wiz-0224&gt;&lt;/whiskey-wiz-0224&gt;
Q3: &lt;whiskey-wiz-0324&gt;&lt;/whiskey-wiz-0324&gt;
Q4: &lt;whiskey-wiz-0424&gt;&lt;/whiskey-wiz-0424&gt;
        </code></pre>
      </details>
    </div>

    <h4>3. Required Scripts</h4>
    <p>Add these scripts to your Shopify theme.liquid file:</p>
    <pre><code>
&lt;!-- Whiskey Wiz Dependencies --&gt;
&lt;script src="https://your-firebase-hosting-url/whiskey-wiz.js"&gt;&lt;/script&gt;
    </code></pre>

    <h4>4. Important Notes</h4>
    <ul>
      <li>The admin panel should only be embedded on admin-specific pages</li>
      <li>Each quarter component can be embedded independently</li>
      <li>Components will automatically handle authentication</li>
      <li>Changes made in admin panel affect all embedded instances</li>
    </ul>
  </div>

  <h1>Whiskey Wiz Admin</h1>

  <div class="action-bar">
    <button (click)="populateQuarters()" [disabled]="isPopulating" class="populate-btn">
      {{ isPopulating ? 'Populating...' : 'Populate All Quarters' }}
    </button>
    <button (click)="showScoringRules()" class="nav-btn" *ngIf="selectedQuarter">
      Return to Scoring Rules
    </button>
  </div>

  <div class="admin-layout">
    <!-- Quarter List Sidebar -->
    <div class="quarters-list">
      <h2>Quarters</h2>
      <ul>
        <li *ngFor="let quarter of quarters" 
            (click)="selectQuarter(quarter)"
            [class.active]="selectedQuarter?.id === quarter.id">
          {{ quarter.name }}
          <span class="status" [class.active]="quarter.active">
            {{ quarter.active ? '(Active)' : '(Inactive)' }}
          </span>
        </li>
      </ul>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Quarter Editor -->
      <div class="quarter-editor" *ngIf="selectedQuarter">
        <h2>Editing {{ selectedQuarter.name }}</h2>
        <!-- Add your quarter editor content here -->
      </div>

      <!-- Scoring Rules -->
      <div class="scoring-rules" *ngIf="!selectedQuarter">
        <h2>Scoring Rules</h2>
        <div class="scoring-rules-grid">
          <div class="control-group">
            <label>Perfect Age Score: {{ scoringRules.agePerfectScore }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.agePerfectScore"
                   min="0" max="50" step="5">
          </div>
          <div class="control-group">
            <label>Age Bonus: {{ scoringRules.ageBonus }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.ageBonus"
                   min="0" max="25" step="5">
          </div>
          <div class="control-group">
            <label>Age Penalty Per Year: {{ scoringRules.agePenaltyPerYear }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.agePenaltyPerYear"
                   min="1" max="10" step="1">
          </div>
          <div class="control-group">
            <label>Perfect Proof Score: {{ scoringRules.proofPerfectScore }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.proofPerfectScore"
                   min="0" max="50" step="5">
          </div>
          <div class="control-group">
            <label>Proof Bonus: {{ scoringRules.proofBonus }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.proofBonus"
                   min="0" max="25" step="5">
          </div>
          <div class="control-group">
            <label>Proof Penalty Per Point: {{ scoringRules.proofPenaltyPerPoint }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.proofPenaltyPerPoint"
                   min="1" max="10" step="1">
          </div>
          <div class="control-group">
            <label>Correct Mashbill Score: {{ scoringRules.mashbillCorrectScore }}</label>
            <input type="range" 
                   [(ngModel)]="scoringRules.mashbillCorrectScore"
                   min="0" max="25" step="5">
          </div>
        </div>
        <button (click)="updateScoringRules()" class="save-btn">Update Scoring Rules</button>
      </div>
    </div>
  </div>

  <!-- Debug Info -->
  <div style="margin-top: 20px; padding: 10px; background: #f5f5f5;">
    <h3>Debug Info:</h3>
    <pre>{{ scoringRules | json }}</pre>
  </div>
</div>