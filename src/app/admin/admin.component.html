<div class="admin-container">
  <h1>Whiskey Wiz</h1>
  
  <h2>Whiskey Wiz Admin</h2>

  <!-- Only show Return to Scoring Rules button when editing a quarter -->
  <button *ngIf="selectedQuarter" 
          (click)="showScoringRules()" 
          class="return-btn">
    Return to Scoring Rules
  </button>

  <div class="admin-layout">
    <!-- Quarters List -->
    <div class="quarters-list">
      <h3>Quarters</h3>
      <div class="quarter-items">
        <div *ngFor="let quarter of quarters" 
             (click)="selectQuarter(quarter)"
             class="quarter-item"
             [class.active]="selectedQuarter?.id === quarter.id">
          {{quarter.name}}
          <span class="quarter-status" [class.active]="quarter.active">
            ({{quarter.active ? 'Active' : 'Inactive'}})
          </span>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Quarter Editor -->
      <div *ngIf="selectedQuarter" class="quarter-editor">
        <h3>Editing {{selectedQuarter.name}}</h3>

        <div class="editor-section">
          <div class="active-toggle">
            <label>
              <input type="checkbox" [(ngModel)]="selectedQuarter.active">
              Active Quarter
            </label>
          </div>

      <!-- Sample Grid -->
      <div class="samples-grid">
        <!-- Sample 1 -->
        <div class="sample-card">
          <h4>Sample 1</h4>
          <div class="form-group">
            <label>Mashbill</label>
            <select [(ngModel)]="selectedQuarter.samples.sample1.mashbill">
              <option value="Bourbon">Bourbon</option>
              <option value="Rye">Rye</option>
              <option value="Wheat">Wheat</option>
              <option value="Single Malt">Single Malt</option>
            </select>
          </div>
          <div class="form-group">
            <label>Proof: {{selectedQuarter.samples.sample1.proof}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample1.proof" 
                   min="0" max="200" step="1">
          </div>
          <div class="form-group">
            <label>Age: {{selectedQuarter.samples.sample1.age}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample1.age" 
                   min="0" max="50" step="1">
          </div>
        </div>

        <!-- Sample 2 -->
        <div class="sample-card">
          <h4>Sample 2</h4>
          <div class="form-group">
            <label>Mashbill</label>
            <select [(ngModel)]="selectedQuarter.samples.sample2.mashbill">
              <option value="Bourbon">Bourbon</option>
              <option value="Rye">Rye</option>
              <option value="Wheat">Wheat</option>
              <option value="Single Malt">Single Malt</option>
            </select>
          </div>
          <div class="form-group">
            <label>Proof: {{selectedQuarter.samples.sample2.proof}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample2.proof" 
                   min="0" max="200" step="1">
          </div>
          <div class="form-group">
            <label>Age: {{selectedQuarter.samples.sample2.age}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample2.age" 
                   min="0" max="50" step="1">
          </div>
        </div>

        <!-- Sample 3 -->
        <div class="sample-card">
          <h4>Sample 3</h4>
          <div class="form-group">
            <label>Mashbill</label>
            <select [(ngModel)]="selectedQuarter.samples.sample3.mashbill">
              <option value="Bourbon">Bourbon</option>
              <option value="Rye">Rye</option>
              <option value="Wheat">Wheat</option>
              <option value="Single Malt">Single Malt</option>
            </select>
          </div>
          <div class="form-group">
            <label>Proof: {{selectedQuarter.samples.sample3.proof}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample3.proof" 
                   min="0" max="200" step="1">
          </div>
          <div class="form-group">
            <label>Age: {{selectedQuarter.samples.sample3.age}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample3.age" 
                   min="0" max="50" step="1">
          </div>
        </div>

        <!-- Sample 4 -->
        <div class="sample-card">
          <h4>Sample 4</h4>
          <div class="form-group">
            <label>Mashbill</label>
            <select [(ngModel)]="selectedQuarter.samples.sample4.mashbill">
              <option value="Bourbon">Bourbon</option>
              <option value="Rye">Rye</option>
              <option value="Wheat">Wheat</option>
              <option value="Single Malt">Single Malt</option>
            </select>
          </div>
          <div class="form-group">
            <label>Proof: {{selectedQuarter.samples.sample4.proof}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample4.proof" 
                   min="0" max="200" step="1">
          </div>
          <div class="form-group">
            <label>Age: {{selectedQuarter.samples.sample4.age}}</label>
            <input type="range" [(ngModel)]="selectedQuarter.samples.sample4.age" 
                   min="0" max="50" step="1">
          </div>
        </div>
      </div>

      <button (click)="updateQuarter()" class="save-btn">Save Changes</button>

      <!-- Integration Code -->
      <div class="integration-code">
        <h4>Integration Code</h4>
        <div class="code-block">
          <code>&lt;whiskey-wiz-{{selectedQuarter.id}}&gt;&lt;/whiskey-wiz-{{selectedQuarter.id}}&gt;</code>
          <button (click)="copyToClipboard(selectedQuarter.id || '')" class="copy-btn">Copy</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scoring Rules -->
  <div *ngIf="!selectedQuarter" class="scoring-rules">
    <h3>Scoring Rules</h3>
    
    <!-- Your existing scoring rules sliders -->
    <div class="scoring-rules-grid">
      <!-- ... scoring rules content ... -->
    </div>
    
    <button (click)="updateScoringRules()" class="update-btn">Update Scoring Rules</button>

    <!-- Integration Instructions -->
    <div class="integration-instructions">
      <h3>Integration Instructions</h3>
      
      <div class="instruction-section">
        <h4>1. Required Script</h4>
        <p>Add this script to your theme.liquid file:</p>
        <div class="code-block">
          <code>&lt;script src="https://whiskeywiz2.firebaseapp.com/whiskey-wiz.js" defer&gt;&lt;/script&gt;</code>
          <button (click)="copyToClipboard('script-tag')" class="copy-btn">Copy</button>
        </div>
      </div>

      <div class="instruction-section">
        <h4>2. Admin Panel Integration</h4>
        <p>Add this code to your admin page:</p>
        <div class="code-block">
          <code>&lt;whiskey-wiz-admin&gt;&lt;/whiskey-wiz-admin&gt;</code>
          <button (click)="copyToClipboard('admin')" class="copy-btn">Copy</button>
        </div>
      </div>

      <div class="notes-section">
        <h4>Important Notes</h4>
        <ul>
          <li>The admin panel should only be embedded on admin-specific pages</li>
          <li>Each quarter can be embedded independently</li>
          <li>Components will automatically handle authentication</li>
          <li>Changes made in admin panel affect all embedded instances</li>
        </ul>
      </div>
    </div>
  </div>
</div>
</div>
</div>